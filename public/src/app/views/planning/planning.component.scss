// =============================================================================
// IMPORT
// =============================================================================
@import "../../../assets/styles/ui_mixines";

nav.top_container{
	width: 100%;
	height: 40px;
	padding: 5px 0;
	background-color: white;

	div.inner_container{
		overflow: auto;
		@include container_sizing( 800px );

		div.logo{
			float: left;
			overflow: auto;

			img{
				float: left;
				margin-top: 0;
				height: 40px;
				margin: -10px 10px 0 0;
			}
			h2{
				float: left;
				line-height: 40px;
				font-family: 'courrier_new';
				color: #3C4F71;
				font-weight: 400;

			}
		}
		ul.menu{
			float: right;

			li{
				float: right;
				margin-left: 15px; 
				
				a{
					font-family: 'courrier_new';
					color: #3C4F71;
					font-weight: 800;
					font-size: 14px;
					line-height: 40px;
					cursor: pointer;

					&.active{
						border-bottom: 2px solid #3C4F71;
					}
				}
			}
		}
	}
}

section.planning{
	position: relative;

	div.planner{
		@include container_sizing( 1000px );
		display: block;
		margin-top: 5%;
		height: auto;
		border-radius: 10px;
		box-shadow: 0px 4px 10px rgba(#3C4F71, .2);
		background-color: white;
		display: grid;
		grid-template-columns: 50px auto;
		grid-template-rows: 50px auto;

		div.spacer{
			border-bottom: 1px solid rgba(#3C4F71, .2);
			position: sticky;
			top: 0;
			background-color: white;
			border-top-left-radius: 10px;
		}
		div.week{
			z-index: 1;
			display: grid;
			grid-template-columns: repeat(1, 1fr);
			align-items: center;
			justify-items: center;
			position: sticky;
			top: 0;
			background-color: #fff;
			border-top-right-radius: 10px;
			border-bottom: 1px solid rgba(#3C4F71, .2);

			div.day{
				font-family: 'courrier_new';
				color: #3C4F71;
				font-size: 14px;

				&:nth-child(n+2){ display: none; }
				&::ng-deep span.date{
					font-family: 'courrier_new';
					margin-left: 5px;
					color: #3C4F71;

					&.active{
						background-color: #e66b6b;
						color: white;
						font-weight: 800;
						padding: 5px;
						border-radius: 50%;
					}
				}
			}
		}
		div.time{
			display: grid;
			grid-auto-rows: 75px;
			align-items: align;
			justify-items: center;

			div.hour{
				font-family: 'courrier_new';
				color: #3C4F71;
				font-size: 12px;
				line-height: 0;
			}
		}
		div.content{
			display: grid;
			grid-template-columns: repeat(1, 1fr);
			grid-template-rows: repeat(auto-fill, minmax(75px, 1fr));

			div.cell{
				position: relative;
    			box-sizing: border-box;
				
				display: none;
				&:nth-child(1){ display: block; }
				&:nth-child(8){ display: block; }
				&:nth-child(15){ display: block; }
				&:nth-child(22){ display: block; }

				&:not(:nth-of-type(7n)) {
					border-right: 1px dashed rgba(#3C4F71, .2);
				}
				&:not(:nth-last-of-type(-n + 7)) {
					border-bottom: 1px dashed rgba(#3C4F71, .2);
				}
				@for $i from 1 through 7 {
					&:nth-of-type(7n + #{$i}) {
					  grid-column: #{$i};
					}
				}
				@for $j from 1 through 4 {
					&:nth-of-type(n + #{1 + (($j - 1) * 7)}):nth-of-type(-n + #{$j * 7}) {
						grid-row: $j;
					}
				}
			}
			span.task{
				position: relative;
				overflow: hidden;
				margin: 8px;
				padding: 8px;
				border-radius: 4px;
				font-size: 14px;
				text-overflow: ellipsis;
				white-space: nowrap;
				transition: margin 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55), border-radius 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
				background-color: rgba(#3C4F71, .1);
				color: #3C4F71;
				font-family: 'courrier_new';
				cursor: pointer;

				display: none;
				&:nth-child(29){ display: block; }
				&:nth-child(36){ display: block; }

				&::ng-deep span.icon{
					font-size: 10px;
					font-family: 'font_awesome';
					color: #3C4F71;
					margin-right: 10px;
				}
				&.active{
					white-space: normal;
					background: linear-gradient(to right,#ffd073,#ffb54c);
					color: #333333;
				}
				@for $i from 1 through 1 {
					&:nth-of-type(7n + #{$i}) {
					  grid-column: #{$i} / span 1;
					}
				}
				@for $j from 1 through 4 {
					&:nth-of-type(n + #{1 + (($j - 1) * 7)}):nth-of-type(-n + #{$j * 7}) {
						grid-row: $j + 2;
					}
				}
			}
		}
	}
}


/*
    TABLET VERSION
*/
@media screen and (min-width: 768px ){
	section.planning{
		div.planner{
			div.spacer{
				border-top-left-radius: 10px;
			}
			div.week{
				grid-template-columns: repeat(4, 1fr);

				div.day{
					display: block;

					&:nth-child(n+2){ display: block; }
					&:nth-child(n+5){ display: none; }
					span.date{
						&.active{}
					}
				}
			}
			div.time{
				div.hour{}
			}
			div.content{
				grid-template-columns: repeat(4, 1fr);
	
				div.cell{
					
					display: none;
					&:nth-child(1){ display: block; }
					&:nth-child(2){ display: block; }
					&:nth-child(3){ display: block; }
					&:nth-child(4){ display: block; }
					&:nth-child(8){ display: block; }
					&:nth-child(9){ display: block; }
					&:nth-child(10){ display: block; }
					&:nth-child(11){ display: block; }
					&:nth-child(15){ display: block; }
					&:nth-child(16){ display: block; }
					&:nth-child(17){ display: block; }
					&:nth-child(18){ display: block; }
					&:nth-child(22){ display: block; }
					&:nth-child(23){ display: block; }
					&:nth-child(24){ display: block; }
					&:nth-child(25){ display: block; }

					&:not(:nth-of-type(4n)) {
						border-right: 1px dashed rgba(#3C4F71, .2);
					}
					&:not(:nth-last-of-type(-n + 4)) {
						border-bottom: 1px dashed rgba(#3C4F71, .2);
					}
					@for $i from 1 through 4 {
						&:nth-of-type(7n + #{$i}) {
						  grid-column: #{$i};
						}
					}
					@for $j from 1 through 4 {
						&:nth-of-type(n + #{1 + (($j - 1) * 7)}):nth-of-type(-n + #{$j * 7}) {
							grid-row: $j;
						}
					}
				}
				span.task{
					&:nth-child(29){ display: block; }
					&:nth-child(30){ display: block; }
					&:nth-child(31){ display: block; }
					&:nth-child(32){ display: block; }
					&:nth-child(36){ display: block; }
					&:nth-child(37){ display: block; }
					&:nth-child(38){ display: block; }
					&:nth-child(39){ display: block; }

					span.icon{}
					&.active{}
					@for $i from 1 through 7 {
						&:nth-of-type(7n + #{$i}) {
						  grid-column: #{$i} / span 1;
						}
					}
					@for $j from 1 through 4 {
						&:nth-of-type(n + #{1 + (($j - 1) * 7)}):nth-of-type(-n + #{$j * 7}) {
							grid-row: $j + 2;
						}
					}
					&:hover {
						margin: 0;
						border-radius: 0;
					}
				}
			}
		}
	}
}

/*
    SMALL SCREEN COMPUTER VERSION
*/
@media screen and (min-width: 992px ){
	section.planning{
		position: relative;
	
		div.planner{
			grid-template-columns: 50px auto;
			grid-template-rows: 50px auto;
	
			div.spacer{}
			div.week{
				grid-template-columns: repeat(7, 1fr);

				div.day{
					&:nth-child(n+5){ display: block; }

					span.date{
						&.active{}
					}
				}
			}
			div.time{
				grid-auto-rows: 75px;
	
				div.hour{}
			}
			div.content{
				grid-template-columns: repeat(7, 1fr);
				// grid-template-rows: repeat(auto-fill, minmax(75px, 1fr));
	
				div.cell{
					display: block;

					&:not(:nth-of-type(4n)){ border-right: 0px; }
					&:not(:nth-last-of-type(-n + 4)){ border-bottom: 0px; }
					&:not(:nth-of-type(7n)) {
						border-right: 1px dashed rgba(#3C4F71, .2);
					}
					&:not(:nth-last-of-type(-n + 7)) {
						border-bottom: 1px dashed rgba(#3C4F71, .2);
					}
					@for $i from 1 through 7 {
						&:nth-of-type(7n + #{$i}) {
						  grid-column: #{$i};
						}
					}
					@for $j from 1 through 4 {
						&:nth-of-type(n + #{1 + (($j - 1) * 7)}):nth-of-type(-n + #{$j * 7}) {
							grid-row: $j;
						}
					}
				}
				span.task{
					display: block;

					span.icon{}
					&.active{}
					@for $i from 1 through 7 {
						&:nth-of-type(7n + #{$i}) {
						  grid-column: #{$i} / span 1;
						}
					}
					@for $j from 1 through 4 {
						&:nth-of-type(n + #{1 + (($j - 1) * 7)}):nth-of-type(-n + #{$j * 7}) {
							grid-row: $j + 2;
						}
					}
					&:hover {}
				}
			}
		}
	}
}